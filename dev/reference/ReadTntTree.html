<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Parse TNT Tree — ReadTntTree • TreeTools</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Parse TNT Tree — ReadTntTree"><meta property="og:description" content="Read a tree from TNT's parenthetical output."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156666971-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156666971-2');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TreeTools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.6.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/filesystem-navigation.html">File system navigation in R</a>
    </li>
    <li>
      <a href="../articles/load-data.html">Loading phylogenetic data into R</a>
    </li>
    <li>
      <a href="../articles/load-trees.html">Loading phylogenetic trees into R</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ms609/TreeTools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parse TNT Tree</h1>
    <small class="dont-index">Source: <a href="https://github.com/ms609/TreeTools/blob/HEAD/R/parse_files.R" class="external-link"><code>R/parse_files.R</code></a></small>
    <div class="hidden name"><code>ReadTntTree.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Read a tree from TNT's parenthetical output.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ReadTntTree</span><span class="op">(</span><span class="va">filepath</span>, relativePath <span class="op">=</span> <span class="cn">NULL</span>, keepEnd <span class="op">=</span> <span class="fl">1L</span>, tipLabels <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">TntText2Tree</span><span class="op">(</span><span class="va">treeText</span><span class="op">)</span>

<span class="fu">TNTText2Tree</span><span class="op">(</span><span class="va">treeText</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>filepath</dt>
<dd><p>character string specifying path to TNT <code>.tre</code> file,
relative to the R working directory (visible with <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>).</p></dd>
<dt>relativePath</dt>
<dd><p>(discouraged) character string specifying location of the
matrix file used to generate the TNT results, relative to the current working
directory.  Taxon names will be read from this file if they are not specified
by <code>tipLabels</code>.</p></dd>
<dt>keepEnd</dt>
<dd><p>(optional, default 1) integer specifying how many elements of
the file path to conserve when creating relative path (see examples).</p></dd>
<dt>tipLabels</dt>
<dd><p>(optional) character vector specifying the names of the
taxa, in the sequence that they appear in the TNT file.  If not specified,
taxon names will be loaded from the data file linked in the first line of the
<code>.tre</code> file specified in <code>filepath</code>.</p></dd>
<dt>treeText</dt>
<dd><p>Character string describing a tree, in the parenthetical
format output by TNT.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>ReadTntTree()</code> returns a tree of class <code>phylo</code>, corresponding
to the tree in <code>filepath</code>, or NULL if no trees are found.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><a href="http://www.lillo.org.ar/phylogeny/tnt/" class="external-link">TNT</a> is software for parsimony
analysis.  Whilst its implementation of tree search is extremely rapid,
analysis of results in TNT is made difficult by its esoteric and scantly
documented scripting language.</p>
<p><code>ReadTntTree()</code> aims to aid the user by facilitating the import of trees
generated in TNT into R for further analysis.</p>
<p>The function depends on tree files being saved by TNT in parenthetical
notation, using the TNT command <code>tsav*</code>.
Trees are easiest to load into R if taxa have been saved using their names
(TNT command <code>taxname=</code>).  In this case, the TNT <code>.tre</code> file
contains tip labels and can be parsed directly.  The downside is that the
uncompressed <code>.tre</code> files will have a larger file size.</p>
<p><code>ReadTntTree()</code> can also read <code>.tre</code> files in which taxa have been saved
using their numbers (<code>taxname-</code>).  Such files contain a hard-coded link to
the matrix file that was used to generate the trees, in the first line of the
<code>.tre</code> file.  This poses problems for portability: if the matrix file is
moved, or the <code>.tre</code> file is accessed on another computer, the taxon names
may be lost.  As such, it is important to check that the matrix file
exists in the expected location -- if it does not,
either use the <code>relativePath</code> argument to point to its new location, or
specify <code>tipLabels</code> to manually specify the tip labels.</p>
<p><code>TntText2Tree()</code> converts text representation of a tree in TNT to an
object of class <code>phylo</code>.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Martin R. Smith (<a href="mailto:martin.smith@durham.ac.uk">martin.smith@durham.ac.uk</a>)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># In the examples below, TNT has read a matrix from</span></span>
<span class="r-in"><span class="co"># "c:/TreeTools/input/dataset.nex"</span></span>
<span class="r-in"><span class="co"># The results of an analysis were written to</span></span>
<span class="r-in"><span class="co"># "c:/TreeTools/output/results1.tnt"</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># results1.tnt will contain a hard-coded reference to</span></span>
<span class="r-in"><span class="co"># "c:/TreeTools/input/dataset.nex".</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># On the original machine (but not elsewhere), it would be possible to read</span></span>
<span class="r-in"><span class="co"># this hard-coded reference from results.tnt:</span></span>
<span class="r-in"><span class="co"># ReadTntTree('output/results1.tnt')</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># These datasets are provided with the 'TreeTools' package, which will</span></span>
<span class="r-in"><span class="co"># probably not be located at c:/TreeTools on your machine:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">oldWD</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Remember the current working directory</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">'TreeTools'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If taxon names were saved within the file (using `taxname=` in TNT),</span></span>
<span class="r-in"><span class="co"># then our job is easy:</span></span>
<span class="r-in"><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">'extdata/output/named.tre'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Phylogenetic tree with 5 tips and 4 internal nodes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tip labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   taxon_a, taxon_b, taxon_c, taxon_d, taxon_e</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rooted; no branch lengths.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># But if taxa were compressed to numbers (using `taxname-`), we need to</span></span>
<span class="r-in"><span class="co"># look up the original matrix in order to dereference the tip names.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># We need to extract the relevant file path from the end of the</span></span>
<span class="r-in"><span class="co"># hard-coded path in the original file.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># We are interested in the last two elements of</span></span>
<span class="r-in"><span class="co"># c:/TreeTools/input/dataset.nex</span></span>
<span class="r-in"><span class="co">#                2      1</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># '.' means "relative to the current directory"</span></span>
<span class="r-in"><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">'extdata/output/numbered.tre'</span>, <span class="st">'./extdata'</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 phylogenetic trees</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If working in a lower subdirectory</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">'./extdata/otherfolder'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># then it will be necessary to navigate up the directory path with '..':</span></span>
<span class="r-in"><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">'../output/numbered.tre'</span>, <span class="st">'..'</span>, <span class="fl">2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 phylogenetic trees</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">oldWD</span><span class="op">)</span> <span class="co"># Restore original working directory</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">TNTText2Tree</span><span class="op">(</span><span class="st">"(A (B (C (D E ))));"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Phylogenetic tree with 5 tips and 4 internal nodes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tip labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A, B, C, D, E</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rooted; no branch lengths.</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://smithlabdurham.github.io/" class="external-link">Martin R. Smith</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '6078115fdeb422f23fe2f8c478c70150',
    indexName: 'treetools',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

