<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Parse TNT Tree — ReadTntTree • TreeTools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parse TNT Tree — ReadTntTree"><meta name="description" content="Read a tree from TNT's
parenthetical output."><meta property="og:description" content="Read a tree from TNT's
parenthetical output."><meta name="robots" content="noindex"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-93LNK4JKY4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-93LNK4JKY4');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TreeTools</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9005</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/filesystem-navigation.html">File system navigation in R</a></li>
    <li><a class="dropdown-item" href="../articles/load-data.html">Loading phylogenetic data into R</a></li>
    <li><a class="dropdown-item" href="../articles/load-trees.html">Loading phylogenetic trees into R</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ms609/TreeTools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Parse TNT Tree</h1>
      <small class="dont-index">Source: <a href="https://github.com/ms609/TreeTools/blob/main/R/ReadTntTree.R" class="external-link"><code>R/ReadTntTree.R</code></a></small>
      <div class="d-none name"><code>ReadTntTree.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Read a tree from <a href="https://www.lillo.org.ar/phylogeny/tnt/" class="external-link">TNT</a>'s
parenthetical output.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ReadTntTree</span><span class="op">(</span><span class="va">filepath</span>, relativePath <span class="op">=</span> <span class="cn">NULL</span>, keepEnd <span class="op">=</span> <span class="fl">1L</span>, tipLabels <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">TntText2Tree</span><span class="op">(</span><span class="va">treeText</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">TNTText2Tree</span><span class="op">(</span><span class="va">treeText</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-filepath">filepath<a class="anchor" aria-label="anchor" href="#arg-filepath"></a></dt>
<dd><p>character string specifying path to TNT <code>.tre</code> file,
relative to the R working directory (visible with <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>).</p></dd>


<dt id="arg-relativepath">relativePath<a class="anchor" aria-label="anchor" href="#arg-relativepath"></a></dt>
<dd><p>(discouraged) character string specifying location of the
matrix file used to generate the TNT results, relative to the current working
directory.  Taxon names will be read from this file if they are not specified
by <code>tipLabels</code>.</p></dd>


<dt id="arg-keepend">keepEnd<a class="anchor" aria-label="anchor" href="#arg-keepend"></a></dt>
<dd><p>(optional, default 1) integer specifying how many elements of
the file path to conserve when creating relative path (see examples).</p></dd>


<dt id="arg-tiplabels">tipLabels<a class="anchor" aria-label="anchor" href="#arg-tiplabels"></a></dt>
<dd><p>(optional) character vector specifying the names of the
taxa, in the sequence that they appear in the TNT file.  If not specified,
taxon names will be loaded from the data file linked in the first line of the
<code>.tre</code> file specified in <code>filepath</code>.</p></dd>


<dt id="arg-treetext">treeText<a class="anchor" aria-label="anchor" href="#arg-treetext"></a></dt>
<dd><p>Character string describing one or more trees,
in the parenthetical format output by TNT.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>ReadTntTree()</code> returns a tree of class <code>phylo</code> in
<a href="Reorder.html">TNT order</a>,
corresponding to the tree in <code>filepath</code>, or NULL if no trees are found.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>ReadTntTree()</code> imports trees generated by the parsimony analysis program
<a href="https://www.lillo.org.ar/phylogeny/tnt/" class="external-link">TNT</a> into R, including node labels
written with the <code>ttags</code> command.
Tree files must have been saved by TNT in parenthetical notation, using the
TNT command <code>tsave *</code>.
Trees are easiest to load into R if taxa have been saved using their names
(TNT command <code>taxname =</code>).  In this case, the TNT <code>.tre</code> file
contains tip labels and can be parsed directly.  The downside is that the
uncompressed <code>.tre</code> files will have a larger file size.</p>
<p><code>ReadTntTree()</code> can also read <code>.tre</code> files in which taxa have been saved
using their numbers (<code>taxname -</code>).  Such files contain a hard-coded link to
the matrix file that was used to generate the trees, in the first line of the
<code>.tre</code> file.  This poses problems for portability: if the matrix file is
moved, or the <code>.tre</code> file is accessed on another computer, the taxon names
may be lost.  As such, it is important to check that the matrix file
exists in the expected location – if it does not,
either use the <code>relativePath</code> argument to point to its new location, or
specify <code>tipLabels</code> to manually specify the tip labels.</p>
<p><code>TntText2Tree()</code> converts text representation of a tree in TNT to an
object of class <code>phylo</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other tree import functions:
<code><a href="ReadMrBayesTrees.html">ReadMrBayesTrees()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><a href="https://orcid.org/0000-0001-5660-1727" class="external-link">Martin R. Smith</a>
(<a href="mailto:martin.smith@durham.ac.uk">martin.smith@durham.ac.uk</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># In the examples below, TNT has read a matrix from</span></span></span>
<span class="r-in"><span><span class="co"># "c:/TreeTools/input/dataset.nex"</span></span></span>
<span class="r-in"><span><span class="co"># The results of an analysis were written to</span></span></span>
<span class="r-in"><span><span class="co"># "c:/TreeTools/output/results1.tnt"</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># results1.tnt will contain a hard-coded reference to</span></span></span>
<span class="r-in"><span><span class="co"># "c:/TreeTools/input/dataset.nex".</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># On the original machine (but not elsewhere), it would be possible to read</span></span></span>
<span class="r-in"><span><span class="co"># this hard-coded reference from results.tnt:</span></span></span>
<span class="r-in"><span><span class="co"># ReadTntTree("output/results1.tnt")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># These datasets are provided with the "TreeTools" package, which will</span></span></span>
<span class="r-in"><span><span class="co"># probably not be located at c:/TreeTools on your machine:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">oldWD</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Remember the current working directory</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"TreeTools"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If taxon names were saved within the file (using `taxname=` in TNT),</span></span></span>
<span class="r-in"><span><span class="co"># then our job is easy:</span></span></span>
<span class="r-in"><span><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">"extdata/output/named.tre"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Phylogenetic tree with 5 tips and 4 internal nodes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tip labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   taxon_a, taxon_b, taxon_c, taxon_d, taxon_e</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rooted; no branch length.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But if taxa were compressed to numbers (using `taxname-`), we need to</span></span></span>
<span class="r-in"><span><span class="co"># look up the original matrix in order to dereference the tip names.</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># We need to extract the relevant file path from the end of the</span></span></span>
<span class="r-in"><span><span class="co"># hard-coded path in the original file.</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># We are interested in the last two elements of</span></span></span>
<span class="r-in"><span><span class="co"># c:/TreeTools/input/dataset.nex</span></span></span>
<span class="r-in"><span><span class="co">#                2      1</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># "." means "relative to the current directory"</span></span></span>
<span class="r-in"><span><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">"extdata/output/numbered.tre"</span>, <span class="st">"./extdata"</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 phylogenetic trees</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If working in a lower subdirectory</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"./extdata/otherfolder"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># then it will be necessary to navigate up the directory path with "..":</span></span></span>
<span class="r-in"><span><span class="fu">ReadTntTree</span><span class="op">(</span><span class="st">"../output/numbered.tre"</span>, <span class="st">".."</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 phylogenetic trees</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">oldWD</span><span class="op">)</span> <span class="co"># Restore original working directory</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">TNTText2Tree</span><span class="op">(</span><span class="st">"(A (B (C (D E ))));"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Phylogenetic tree with 5 tips and 4 internal nodes.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tip labels:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A, B, C, D, E</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rooted; no branch length.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://smithlabdurham.github.io/" class="external-link">Martin R. Smith</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

